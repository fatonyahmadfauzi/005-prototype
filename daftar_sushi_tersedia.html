<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daftar Sushi Tersedia</title>
    <link rel="stylesheet" href="library/css/bootstrap.min.css">

    <!-- DataTable CSS  -->
    <link rel="stylesheet" href="library/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="library/css/responsive.bootstrap5.min.css">
</head>
<body>
    <!-- ... Bagian Header ... -->
    </head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="gambar/LOGO_FAF.png" alt="fatonyahmadfauzi" width="auto" height="30">
            </a>
        </div>
    </nav>

    <header class="container mt-3">
        <div class="row justify-content-center">
            <div class="col-md">
                <div class="jumbotron">
                    <div class="row">
                        <div class="col-md-6 mb-5">
                            <h2>Pendaftaran</h2>
                            <p>Tambahkan daftar menu sushi baru!</p>
                            <a href="index" class="btn btn-primary" title="Pergi ke halaman Daftar Sushi Tersedia">
                                Daftarkan
                            </a>
                        </div>
                        <div class="col-md-6">
                            <div class="text-center">
                                <h2>DAFTAR SUSHI</h2>
                                <h2>TERSEDIA</h2>
                            </div>
                            <div class="text-center">
                                <a href="https://www.bing.com/ck/a?!&&p=9272cef5365a687cJmltdHM9MTY5MDkzNDQwMCZpZ3VpZD0zMGNmNjVmNC0zZWJjLTY2MWYtM2VkNy03NmViM2Y3ZjY3ZWImaW5zaWQ9NjM5Mg&ptn=3&hsh=3&fclid=30cf65f4-3ebc-661f-3ed7-76eb3f7f67eb&u=a1L2ltYWdlcy9zZWFyY2g_cT1zdXNoaSZjYm49S25vd2xlZGdlQ2FyZCZzdGlkPWFiNDIxZTMyLTc5ZWMtZjk1Ni05M2IwLWIxMjdlZWU1YTA3OSZGT1JNPUtDSElNTQ&ntb=1" target="_blank">
                                    <img src="gambar/th.webp" alt="Picture from Microsoft Bing" class="img-fluid">
                                </a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </header>

    <main class="container my-2">
        <section class="row justify-content-center">
            <div class="col-md">
                <div class="container p-5 my-2 bg-light">
                    <table id="myTable" class="table table-striped nowrap" style="width:100%">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Nama</th>
                                <th>Paket Menu</th>
                                <th>Tambahan</th>
                                <th>Harga</th>
                                <th>Subtotal</th>
                                <th>Total Harga</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="tabelDataSushi">
                            <!-- Data akan ditampilkan di sini -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <!-- ... Bagian Footer ... -->
    <footer class="footer">
        <div class="container mt-5">
            <div class="row">
                <div class="col-lg-4 col-md-6 col-sm-6"> <!-- Adjust column sizes as needed -->
                    <h5 class="resource-heading">Resource</h5>
                    <ul class="list-unstyled">
                        <li><a class="light-link" href="https://www.figma.com/">Figma</a></li>
                        <li><a class="light-link" href="https://code.visualstudio.com/">VisualStudio Code</a></li>
                        <li><a class="light-link">Supported Hardware</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6"> <!-- Adjust column sizes as needed -->
                    <h5 class="resource-heading">Activity</h5>
                    <ul class="list-unstyled">
                        <li><a class="light-link">FullStack Developer</a></li>
                        <li><a class="light-link">UI / UX</a></li>
                        <li><a class="light-link">Desainer Grafis</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6"> <!-- Adjust column sizes as needed -->
                    <h5 class="resource-heading">Social</h5>
                    <ul class="list-unstyled">
                        <li><a class="light-link" href="https://www.instagram.com/fatonyahmadfauzi">Instagram</a></li>
                        <li><a class="light-link" href="https://www.tiktok.com/@fatonyahmadfauzi">TikTok</a></li>
                        <li><a class="light-link" href="https://twitter.com/fatonyahmad89">Twitter</a></li>
                        <li><a class="light-link" href="https://facebook.com/fatonyahmadfauzi">Facebook</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6 text-center">
                <p>FATONY AHMAD FAUZI Â© <span id="year"></span></p>
            </div>
        </div>
    </div>

    <!-- DataTable JS -->
    <script src="library/js/jquery-3.5.1.js"></script>
    <script src="library/js/jquery.dataTables.min.js"></script>
    <script src="library/js/dataTables.bootstrap5.min.js"></script>
    <script src="library/js/dataTables.responsive.min.js"></script>
    <script src="library/js/responsive.bootstrap5.min.js"></script>

    <script>
        var nomor = 1; // Menyimpan nomor urut untuk setiap data

        // Fungsi untuk mengformat angka menjadi format mata uang
        function formatCurrency(amount) {
            return "Rp " + amount.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
        }

        function displaySushiData() {
            try {
                var tabelDataSushi = document.getElementById('tabelDataSushi');
                var sushiData = JSON.parse(localStorage.getItem("sushi_data"));

                // Hapus semua baris sebelum menambahkan data baru
                while (tabelDataSushi.rows.length > 0) {
                    tabelDataSushi.deleteRow(0);
                }

                // Dalam displaySushiData():
                for (var i = sushiData.length - 1; i >= 0; i--) {
                    var row = tabelDataSushi.insertRow();
                    var cellNomor = row.insertCell(0);
                    var cellNama = row.insertCell(1);
                    var cellPaketMenu = row.insertCell(2);
                    var cellTambahan = row.insertCell(3);
                    var cellHarga = row.insertCell(4);
                    var cellSubtotal = row.insertCell(5);
                    var cellTotalHarga = row.insertCell(6);
                    var cellAksi = row.insertCell(7);

                    var currentSushi = sushiData[i]; // Ambil data sushi pada indeks ke-i

                    cellNomor.innerHTML = nomor++;
                    cellNama.innerHTML = currentSushi.nama;
                    cellPaketMenu.innerHTML = currentSushi.paketmenu;
                    cellTambahan.innerHTML = currentSushi.tambahan.join(', '); // Menggabungkan tambahan menjadi string terpisah koma
                    cellHarga.innerHTML = formatCurrency(currentSushi.harga);
                    cellSubtotal.innerHTML = formatCurrency(currentSushi.subtotal);
                    cellTotalHarga.innerHTML = formatCurrency(currentSushi.totalHarga);
                }
            } catch (error) {
                console.error("Error displaying sushi data:", error);
            }
        }
        // Panggil fungsi displaySushiData() saat halaman dimuat
        displaySushiData();
    </script>

    <script>
        // Inisialisasi DataTable dengan opsi sorting
        var table = $('#myTable').DataTable({
            responsive: true,
            order: [[1, 'asc']] // Default sorting by Name (ascending)
        });

        // Tambahkan dropdown button untuk opsi pengurutan
        $('<select>')
            .appendTo('#myTable_wrapper .dataTables_filter')
            .on('change', function() {
                var value = $(this).val();

                if (value === 'name-asc') {
                    table.order([1, 'asc']).draw(); // Sort by Name (A - Z)
                } else if (value === 'name-desc') {
                    table.order([1, 'desc']).draw(); // Sort by Name (Z - A)
                } else if (value === 'price-high') {
                    table.order([4, 'desc']).draw(); // Sort by Price High to Low
                } else if (value === 'price-low') {
                    table.order([4, 'asc']).draw(); // Sort by Price Low to High
                }
            })
            .append('<option value="" disabled selected>Sort by</option>')
            .append('<option value="name-asc">Name A - Z</option>')
            .append('<option value="name-desc">Name Z - A</option>')
            .append('<option value="price-high">Price High to Low</option>')
            .append('<option value="price-low">Price Low to High</option>');
    </script>

    <script>
        // Script untuk generate tahun otomatis dalam copyright
        document.getElementById("year").innerHTML = new Date().getFullYear();
    </script>
</body>
</html>
